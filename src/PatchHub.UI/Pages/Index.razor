@using PatchHub.Infrastructure.Contracts.Responses
@using PatchHub.UI.Components
@page "/"

<PageTitle>PatchHub - Home</PageTitle>

<MudGrid Spacing="4">
    <MudItem xs="12">
        <MudText Typo="Typo.h6" Align="Align.Center">
            Welcome to PatchHub! Here you can view patch notes from various popular games.
        </MudText>
    </MudItem>
    <MudItem xs="0" md="3"/>
    <MudItem xs="12" md="6">
        <MudAutocomplete T="SteamAppResponse" Label="Search For A Game"
                         Variant="Variant.Outlined"
                         @bind-Value="SelectedGame"
                         SearchFunc="SearchGames"
                         ToStringFunc="@(e => e == null ? null : e.AppName)"
                         ResetValueOnEmptyText="true"
                         CoerceText="true"
                         CoerceValue="false"
                         AdornmentIcon="@Icons.Material.Filled.Games"
                         AdornmentColor="Color.Info"
                         ShowProgressIndicator="true"
                         ProgressIndicatorColor="Color.Info"
                         MaxItems="20"
                         SelectValueOnTab="true"
                         SelectOnClick="true">
            <NoItemsTemplate>
                <MudText Typo="Typo.body1">
                    ☝️Search for a game to explore patch notes!
                </MudText>
            </NoItemsTemplate>
        </MudAutocomplete>
    </MudItem>
    <MudItem xs="3"/>

    @if (SelectedGame != null) 
    {
        <MudItem xs="12">
            <PatchNotesComponent SteamApp="SelectedGame" />
        </MudItem>
    }
</MudGrid>