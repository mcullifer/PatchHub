@using PatchHub.UI.Components
@page "/"

<PageTitle>PatchHub - Home</PageTitle>

<MudGrid Spacing="4" Class="py-0 my-0 overflow-auto">
    <MudItem xs="12">
        <MudText Typo="Typo.h6" Align="Align.Center">
            Welcome to PatchHub! Here you can view patch notes from various popular games.
        </MudText>
    </MudItem>
    <MudItem xs="0" md="3"/>
    <MudItem xs="12" md="6">
        <MudAutocomplete T="SteamApp" Label="Search For A Game"
                         Variant="Variant.Filled"
                         @bind-Value="SelectedGame"
                         SearchFunc="SearchGames"
                         ToStringFunc="@(e => e == null ? null : e.AppName)"
                         ResetValueOnEmptyText="false"
                         CoerceText="true"
                         CoerceValue="false"
                         AdornmentIcon="@Icons.Material.Filled.VideogameAsset"
                         IconSize="Size.Large"
                         AdornmentColor="Color.Info"
                         ShowProgressIndicator="true"
                         MaxItems="20"
                         SelectValueOnTab="true"
                         SelectOnClick="true">
            <ProgressIndicatorInPopoverTemplate>
                <MudProgressLinear Size="Size.Large" Indeterminate="true" Color="Color.Primary" />
            </ProgressIndicatorInPopoverTemplate>
            <NoItemsTemplate>
                <MudText Typo="Typo.body1">
                    ☝️Search for a game to explore patch notes!
                </MudText>
            </NoItemsTemplate>
        </MudAutocomplete>
    </MudItem>
    <MudItem xs="3"/>

    @if (SelectedGame != null) 
    {
        <MudItem xs="12">
            <PatchNotesComponent SteamApplication="SelectedGame" />
        </MudItem>
    }
</MudGrid>