<MudGrid Spacing="4" Class="overflow-x-hidden">
    <MudBreakpointProvider>
        @if (_newsItems != null) 
        {
            <MudHidden Breakpoint="Breakpoint.SmAndDown">
                <MudItem md="4">
                    <MudContainer Class="d-flex justify-center mb-4">
                        <MudPagination Color="Color.Secondary" Variant="Variant.Filled" Count="4" @bind-Selected="@SelectedPage">

                        </MudPagination>
                    </MudContainer>
                    <MudContainer id="PatchNoteListComponent" Class="overflow-y-scroll overflow-x-hidden rounded-lg px-0 pb-2" Style="height:calc(100vh - 275px);" Fixed="true" >
                        @foreach (var newsItem in _newsItems)
                        {
                            <PatchNoteListItemComponent 
                                NewsContent="newsItem" 
                                SteamApplication="SteamApplication"
                                OnSelectedNewsItemChanged="@(newsItem => { SetSelectedNewsItem(newsItem); ThisPatchNote!.ResetNewsComponent(); })"
                                IsCurrentlySelected=@(newsItem.PostId == SelectedNewsItem!.PostId ? true : false) />
                        }
                    </MudContainer>
                </MudItem>
                <MudItem xs="12" md="8" Class="mt-12">
                    <PatchNoteComponent @ref="ThisPatchNote" News="@SelectedNewsItem" SteamApplication="@SteamApplication" Class="hidden-news" OnClassChanged="StateHasChanged" IsMobile="false" />
                </MudItem>
            </MudHidden>
            <MudHidden Breakpoint="Breakpoint.SmAndUp">
                <MudCarousel ShowArrows="false" ShowBullets="true" BulletsPosition="Position.Top" AutoCycle="false" EnableSwipeGesture="true" Class="mud-width-full py-0 my-0" Style="@("height: " + ComponentHeight)" TData="object">
                        @foreach (var newsItem in _newsItems)
                        {
                            <MudCarouselItem Transition="Transition.Slide">
                                <MudContainer Fixed="true" Class="mb-15 mt-0 py-0" />
                                <MudItem xs="12" md="8" Class=@MobileNewsClasses Style=@("max-height: " + ComponentHeight)>
                                    <PatchNoteComponent @ref="ThisPatchNote" News="@newsItem" SteamApplication="@SteamApplication" Class="hidden-news" OnClassChanged="StateHasChanged" IsMobile="true" />
                                </MudItem>
                            </MudCarouselItem>
                        }
                </MudCarousel>
            </MudHidden>
        }
        else
        {
            <MudItem md="4">
                <MudContainer Class="d-flex justify-center mb-4">
                    <MudSkeleton Height="80px" Width="300px" />
                </MudContainer>
                <MudContainer id="PatchNoteListComponent" Class="overflow-y-scroll overflow-x-hidden rounded-lg px-0 pb-2" Style="height:calc(100vh - 275px);" Fixed="true">
                    @for (var i = 0; i < 7; i++)
                    {
                        <MudPaper Class="mb-4 mx-4 py-8 px-4 rounded-lg">
                            <MudSkeleton Height="100px" SkeletonType="SkeletonType.Rectangle" Animation="Animation.Wave" />
                        </MudPaper>
                    }
                </MudContainer>
            </MudItem>
            <MudItem xs="12" md="8" Class="mt-12">
                <MudPaper Class="py-8 px-4 overflow-y-scroll rounded-lg" Height="calc(100vh - 275px);">
                    <MudSkeleton Height="100%" SkeletonType="SkeletonType.Rectangle" Animation="Animation.Wave" />
                </MudPaper>
            </MudItem>
        }
    </MudBreakpointProvider>
</MudGrid>

<style>
    .mobile-news {
        --animate-duration: 0.35s;
    }
</style>